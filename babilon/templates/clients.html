{% extends 'base3.html' %}
{% load static %}
{% block content %}

<div class="row col-12">
    <h5 class="text-left col-12">Znajd≈∫ klienta</h5>
    <input name="search" id="search_client" class="text-left" maxlength="9"><br><button type="submit"
        class="btn btn-dark">
        Szukaj klienta
    </button>

    <a class="col-5 text-right" href="/addclient/"><button class=" btn-success">Dodaj klienta</button>
    </a>
</div>
<div id="client" class="col-12 row mx-auto bg-light p-1 border">
    <table class="table mx-auto col-12">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Telefon</th>
                <th scope="col">dane</th>
                <th scope="col">Dodaj adres</th>
                <th scope="col">Adres</th>
                <th scope="col">Status</th>
                <th scope="col">Info</th>
            </tr>
        </thead>
        <tbody>
            {% for el in clients %}
            <tr class="lista">
                <th scope="row">{{el.id}}</th>
                <td>{{el.phone_number}}</td>
                {% if el.firstlastname.strip %}
                <td>{{el.firstlastname}}</td>
                {% else %}
                <td></td>
                {% endif %}
                <td><a href="/addclientnewaddress/{{el.id}}"><button class="btn-success">Dodaj adres</button></td>
                <td>

                    <ul>{% for address in el.adrress.all %}
                        <div class="row col-12 m-2">
                            <li class="col-8"><a href="/add_client_to_order/{{el.id}}/{{address.id}}"
                                    class="col-12">{{address.address}} <span>{{address.quantity}}</span></a></li>

                            <a class="col-1  m-1" href="/edit_address/{{address.id}}"><button
                                    class="btn-primary text-center">E</button></a>
                            <a class="col-1  m-1" href="/del_address/{{address.id}}"><button
                                    class="btn-danger text-center">X</button></a>
                        </div>
                        {% endfor %}
                    </ul>
                </td>
                <td>{{el.get_status_display}}</td>
                {% if el.info.strip %}
                <td>{{el.info}}</td>
                {% else %}
                <td></td>
                {% endif %}
            </tr>
            {% endfor %}

        </tbody>
    </table>
</div>
{% endblock %}
{% block script %}
<script src="{% static "babilon/mainbase.js" %}" type="text/javascript"></script>
{% endblock %}