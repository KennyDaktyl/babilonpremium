{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="row col-12 border mt-2 mx-auto topps">
    <p class="col-12 text-left topps">Składniki pizzy: <b>{{product_add}}</b>, rozmiar
        <b>{{product_add.size}}</b></p>
    {% for el in orderPosition.toppings.all %} <b>
        <form class="mx-auto " method="POST">
            {% csrf_token %}
            <button type="button" class="{{el.component}} topps btn btn-danger "
                data-type="{{el.component}}">{{el.name}}</button>
    </b></form>{% endfor %}
</div>
<div class="row col-12 border mt-2 mx-auto text-center text-wrap add_topps_plus">
    <p id="add_topps" class="col-12 text-left add_topps">Dodatki w cenie:</p>
    <span id="topps_add" class="topps_add"></span>
</div>
<div class="row col-12 border mt-2 mx-auto text-center text-wrap add_topps_plus_pay">
    <p id="add_topps_pay" class="col-12 text-left add_topps">Dodatki płatne:</p>
    <span id="topps_add_pay" class="topps_add"></span>
</div>
<div class=" row col-12 border mt-2 mx-auto">
    <p class="col-12 text-left">Wybór ciasta:</p>
    {% for el in cake %} <b>
        <form class="mx-auto" method="POST">
            {% csrf_token %}
            <button type="button" class="caketopps btn btn-warning mw-50 m-1" data-price="{{el.price}}"
                data-id="{{el.id}}">{{el.name}}
                : <span id="price_add_cake_topp" data-price="{{el.price}}">{{el.price}}</button></a>
    </b></form>{% endfor %}
</div>
<div class="row col-12 border mt-2 mx-auto">
    <p id="price_size_vege" class="col-12 text-left" data-price="{{product_add.size.vege_topps_price}}">Dodatki
        warzywne:</p>
    {% for el in vegetopps %} <b>
        <form class="mx-auto" method="POST">
            {% csrf_token %}
            <button type="button" class="vegetopps btn btn-warning mw-50 m-1" data-price="
            {{product_add.size.vege_topps_price}}" data-id="{{el.id}}">{{el.name}} :
                <span id="price_add_vege_topp"
                    data-price="{{product_add.size.vege_topps_price}}">{{product_add.size.vege_topps_price}}</span></button>
    </b></form>{% endfor %}
</div>

<div class="row col-12 border mt-2 mx-auto">
    <p id="price_size_beef" class="col-12 text-left" data-price="{{product_add.size.beef_topps_price}}">Dodatki mięsne:
    </p>

    {% for el in beeftopps %} <b>
        <form class="mx-auto" method="POST">
            {% csrf_token %}
            <button type="button" class="beeftopps btn btn-warning mw-50 m-1"
                data-price="{{product_add.size.beef_topps_price}}" data-id="{{el.id}}">{{el.name}}
                : <span>{{product_add.size.beef_topps_price}}</button></a>
    </b></form>{% endfor %}
</div>

<div class=" row col-12 border mt-2 mx-auto">
    <p id="price_size_cheese" class="col-12 text-left" data-price="{{product_add.size.cheese_topps_price}}">Dodatki
        serowe:
    </p>
    {% for el in cheesetopps %} <b>
        <form class=" mx-auto" method="POST">
            {% csrf_token %}
            <button type="button" class="cheesetopps btn btn-warning mw-50 m-1"
                data-price="{{product_add.size.cheese_topps_price}}" data-id="{{el.id}}">{{el.name}} : <span
                    id="price_add_cheese_topp"
                    data-price="{{product_add.size.cheese_topps_price}}">{{product_add.size.cheese_topps_price}}</button></a>
    </b></form>{% endfor %}
</div>

<div class=" row col-12 border mt-2 mx-auto">
    <p id="price_size_extra" class="col-12 text-left" data-price="{{product_add.size.extra_topps_price}}">Dodatki extra:
    </p>
    {% for el in extratopps %} <b>
        <form class="mx-auto" method="POST">
            {% csrf_token %}
            <button type="button" class="extratopps btn btn-warning mw-50 m-1"
                data-price="{{product_add.size.extra_topps_price}}" data-id="{{el.id}}">{{el.name}} : <span
                    class="price_add_extra_topp"
                    data-price="{{product_add.size.extra_topps_price}}">{{product_add.size.extra_topps_price}}</button></a>
    </b></form>{% endfor %}
</div>



<div class="row col-12 border mt-2 mx-auto">
    <h6 class="col-12 text-left">Składniki warzywne
        <span id="change_vege" class="text-danger"
            data-price="{{product_add.size.vege_topps_price}}"><b>{{change_topps_vege}}</b></span>, składniki
        mięsne: <b>{{beef_pay_control}} <span id="change_beef" class="change_beef text-danger"
                data-beefctrl="{{beef_topps_cheese}}"
                data-price="{{product_add.size.beef_topps_price}}">{{change_topps_beef}}</span></b>,
        składniki
        serowe:
        <b>{{cheese_pay_control}} <span id="change_cheese" class="change_cheese text-danger"
                data-cheesectrl="{{change_topps_cheese}}"
                data-price="{{product_add.size.cheese_topps_price}}">{{change_topps_cheese}}</b></span>
        , składniki
        extra:
        <b>{{extra_pay_control}} <span id="change_extra" class="change_extra text-danger"
                data-extractrl="{{change_topps_extra}}"
                data-price="{{product_add.size.extra_topps_price}}">{{change_topps_extra}}</b></span>

    </h6>
    <!-- <div class="row col-12 text-wrap text-right align-top">
        <h6 class="col-6 text-left text-wrap text-right"><b>Składniki minus: </b></h6><br>
       
        <h6 class="col-6 text-left text-wrap"><b>Składniki plus: </b></h6><br>
       
    </div>
    <div class="col-6">
        <ul id="text_change_topps_del" class="change col-12 text-right align-top"></ul>
    </div>
    <div class="col-6">
        <ul id="text_change_topps_add" class="change col-12 align-top"></ul>
    </div> -->



    <!-- <h6 class="col-12 text-left text-wrap"><b>Zmiana ciasta: </b><span id="text_change_cake"
            class="text_change_cake"></span>
    </h6> -->
    <form class="col-12" method="GET" action="/add_to_order_freestyle/{{product_add.id}}/">
        <h6 class="col-6 text-left">Dopłata za dodatki: <b><span id="extra_price">0,00</span></b></h6>
        <input name="extra_price" id="input_extra_price" value="" type="number" step="0.01">
        <a href="/add_toops_freestyle/{{product_add.id}}/" class="col-5 text-right"><button type="button"
                class="text-right btn btn-danger">Kasuj
                zmiany</button></a>
</div>
<p class="col-12 text-left"></p>
<p class="col-12 text-left">Cena produktu <br><b>{{product_add.price}}</b></p>

<!-- <a id="link" href="/add_modyfi_to_order/{{product.id}}/{{product_modyfi.id}}/" class="col-12">
    <button type="submit" class="col-4 mx-auto btn btn-success">Zapisz</button>
</a> -->

{% csrf_token %}

<input name="input_topps_free" id="input_topps_free" type="hidden" value="">
<input name="input_topps_pay" id="input_topps_pay" type="hidden" value="">
<input name="input_cake_info" id="input_cake_info" type="hidden" value="">
<button type="submit" class="col-4 mx-auto btn btn-success">Zapisz</button></form>
{% endblock %}


{% block script %}
<script src="{% static "babilon/mainAjax.js" %}" type="text/javascript"></script>
{% endblock %}